var General={settings:{},init:function(){General.initIsotope(),General.initSlick(),General.bindEvents()},initIsotope:function(){jQuery(".menu-content").isotope({layoutMode:"fitRows",itemSelector:".product",percentPosition:!0,resizable:!1})},initSlick:function(){jQuery(".block-popular .carousel").slick({autoplay:!0,dots:!0,infinite:!1,speed:300,arrows:!1,slidesToShow:3,responsive:[{breakpoint:900,settings:{slidesToShow:2,infinite:!0,dots:!0}},{breakpoint:700,settings:{slidesToShow:1,infinite:!0,dots:!0,draggable:!0}}]})},bindEvents:function(){jQuery(".menu-filters input[type=radio], .filter-list input[type=radio]").on("click",General.filterItems),jQuery(".menu-filters input[type=checkbox], .filter-list input[type=checkbox]").on("click",General.filterItems),jQuery(".filter-title").on("click",General.toggleFilterDropdown),jQuery(".product-more-info").on("click",General.openModal),jQuery(".modal-close").on("click",General.closeModal)},toggleFilterDropdown:function(e){jQuery(".indicator").toggleClass("glyphicon-chevron-down-custom glyphicon-chevron-up-custom"),jQuery("#drop-filters .filter-list").slideToggle()},filterItems:function(){var e="",t="";void 0===(t=jQuery(window).width()<=700?jQuery(".filter-list input[type=radio]:checked").val():jQuery(".menu-filters input[type=radio]:checked").val())&&(t="all"),jQuery(window).width()<=700?jQuery(".filter-list input[type=checkbox]:checked").each(function(){e+=""!==t&&"all"!==t?"."+t+"."+jQuery(this).val()+", ":"."+jQuery(this).val()+", "}):jQuery(".menu-filters input[type=checkbox]:checked").each(function(){e+=""!==t&&"all"!==t?"."+t+"."+jQuery(this).val()+", ":"."+jQuery(this).val()+", "}),""===(e=e.replace(/,\s*$/,""))&&""!==t&&"all"!==t&&(e="."+t),""===e&&(e="*"),jQuery(".menu-content").isotope({filter:e})},openModal:function(e){jQuery(".modal").hide(),e.preventDefault();var t=jQuery(e.target).closest(".product").find(".modal"),i={action:"popup_product",pid:jQuery(e.target).closest(".product").data("pid")};jQuery.ajax({url:ajax_url,type:"POST",data:i,success:function(e){t.find(".modal-ajax").empty().html(e),t.show()}})},closeModal:function(e){e.preventDefault(),jQuery(".modal").hide()}};jQuery(function(){"use strict";General.init()});